<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="UseOfAI" content="AI was used on this code" />
    <meta name="UseOfAIDetail" content="This code was first made manually, then adjusted with AI with the integrations done manually" />
    <title>Nasa BioScience Explorer</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <style>

.background {
      background: black
}
  
      /* --- Custom Styles --- */
      body {
        min-height: 100vh; /* Full viewport height */
        background: linear-gradient(160deg, #0c0c0c 40%, #36776a 100%);
        background-size: cover;
        color: white; /* Default text color */
        font-family: Arial, sans-serif;
      }

      /* Custom class for the glass effect */
      .glass-card {
        background: rgba(86, 86, 86, 0.05);
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px); /* For Safari */
        border-radius: 20px;
        border: 2px solid rgba(100, 100, 100, 0.1);
        box-shadow: -1px -1px 8px 3px rgba(0,0,0,0.25);
        text-shadow: 0px 0px 6px rgba(0,0,0,0.82);
        color: white;
      }

      /* Custom styling for sidebar buttons */
      .sidebar-btn {
        background-color: rgba(131, 200, 168, 0.15);
        border: none;
        transition: transform 0.2s ease-out, background-color 0.2s;
        backdrop-filter: blur(4px);
        -webkit-backdrop-filter: blur(4px); /* For Safari */
        border-radius: 20px;
        border: 2px solid rgba(100, 100, 100, 0.1);
        box-shadow: -1px -1px 8px 3px rgba(0,0,0,0.25);
        text-shadow: 0px 0px 6px rgba(0,0,0,0.82);
        
      }
      .sidebar-btn:hover {
        background-color: rgba(96, 161, 126, 0.3);
        transform: scale(1.03);
        color: white;
      }

      /* Multi-line text truncation */
      .text-truncate-multiline {
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      /* Custom placeholder color */
      .form-control::placeholder {
        color: #ccc; /* Light gray color for placeholder */
        opacity: 1; /* Override bootstrap's default opacity */
      }

      /* Custom focus style for form controls to match the theme */
      .form-control:focus {
        background-color: transparent; /* Keep background transparent */
        color: white; /* Keep text white */
        border-color: rgba(96, 161, 126, 0.4);
        box-shadow: 0 0 0 0.25rem rgba(96, 161, 126, 0.25);
      }

      /* Resizer styles */
      #resizer {
        width: 8px;
        cursor: col-resize;
        background-color: rgba(100, 100, 100, 0.2);
        border-left: 1px solid rgba(255, 255, 255, 0.05);
        border-right: 1px solid rgba(255, 255, 255, 0.05);
        transition: background-color 0.2s;
      }
      #resizer:hover {
        background-color: rgba(96, 161, 126, 0.3);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <div class="container-fluid vh-100 d-flex flex-column py-3">
      <div class="row flex-grow-1" style="flex-wrap: nowrap;">

        <!-- Main Content -->
        <div id="main-panel" class="d-flex flex-column gap-3" style="flex: 1; min-width: 0;">
          <div class="card glass-card p-2 d-flex flex-row justify-content-start gap-3">

            <button onclick="OpenSearch()" class="btn btn-lg text-white sidebar-btn">Search</button>
            <button onclick="OpenWhiteboard()" class="btn btn-lg text-white sidebar-btn">Your whiteboard</button>
          </div>
          <div class="card glass-card flex-grow-1 p-3 overflow-auto" style="min-height: 0;">
            <iframe id="main-content-iframe" src="SearchModule.html" style="height: 100%; width: 100%; border: none;"></iframe>
          </div>
        </div>

        <!-- Resizer Handle -->
        <div id="resizer"></div>

        <!-- Right Sidebar -->
        <div id="sidebar-panel" class="d-flex" style="width: 400px; min-width: 320px; max-width: 800px;">
          <div class="card glass-card flex-grow-1 d-flex justify-content-center align-items-center" style="width: 100%;">
            
              <iframe src="AIModule.html" style="width:100%; height:100%; border:none; overflow: hidden;position: absolute; bottom: 0vh;"></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <!-- Open buttons funcitonality -->
    <script>
      function OpenHome() {
        document.getElementById('main-content-iframe').src = "HomeModule.html";
      }
      function OpenSearch() {
        document.getElementById('main-content-iframe').src = "SearchModule.html";
      }
      function OpenWhiteboard() {
        document.getElementById('main-content-iframe').src = "Whiteboard.html";
      }

      // Resizer functionality
      const resizer = document.getElementById('resizer');
      const mainPanel = document.getElementById('main-panel');
      const sidebarPanel = document.getElementById('sidebar-panel');

      let isResizing = false;

      resizer.addEventListener('mousedown', function(e) {
        e.preventDefault();
        isResizing = true;
        document.addEventListener('mousemove', handleMouseMove);
        document.addEventListener('mouseup', stopResizing);
      });

      function handleMouseMove(e) {
        if (!isResizing) return;
        const newSidebarWidth = window.innerWidth - e.clientX - (resizer.offsetWidth / 2);
        sidebarPanel.style.width = `${newSidebarWidth}px`;
      }

      function stopResizing() {
        isResizing = false;
        document.removeEventListener('mousemove', handleMouseMove);
        document.removeEventListener('mouseup', stopResizing);
      }
    </script>

    <!-- Esto es para firebase, ADRIAN -->
    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getDatabase, ref, push, set, onValue } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-database.js";
      
      // Your Firebase config
      const firebaseConfig = {
        apiKey: "AIzaSyCIU-q88QGBqNmydsvnB_HaoONK1SNEAzE",
        authDomain: "blehology.firebaseapp.com",
        databaseURL: "https://blehology-default-rtdb.firebaseio.com/",
        projectId: "blehology",
        storageBucket: "blehology.firebasestorage.app",
        messagingSenderId: "166464430045", 
        appId: "1:166464430045:web:77566d918ba41c43c86034",
        measurementId: "G-T2T1QWYQ2"
      };
      
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);
      const rootRef = ref(database);
      const itemsRef = ref(database, 'NASA ROOT');
      
      //Read data from your database
      onValue(itemsRef, (snapshot) => {
        const data = snapshot.val();
        console.log("Toda la info guardada: ", data);
      });

    </script>
    <!-- Ya acabo lo de firebase, ADRIAN-->

  </body>
  </html>
  </body>
</html>